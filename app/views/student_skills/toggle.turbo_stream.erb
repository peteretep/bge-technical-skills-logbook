<%= turbo_stream.replace "skill_#{@student_skill.skill_id}" do %>
  <% student_skill = @student_skill %>
  <div id="skill_<%= student_skill.skill_id %>" class="<%= student_skill.demonstrated ? 'bg-green-50 border-green-200' : 'bg-white border-gray-200' %> border rounded-lg p-3 transition-colors">
    <%= form_with url: toggle_skill_student_path(student_skill.student), 
        method: :patch, 
        local: false,
        data: { turbo: true },
        class: "flex items-start space-x-3" do |f| %>
      <%= hidden_field_tag :skill_id, student_skill.skill_id %>
      <div class="flex-shrink-0 pt-1">
        <%= check_box_tag "demonstrated", "1", student_skill.demonstrated, 
            { 
              onchange: "this.form.requestSubmit()",
              id: "skill_checkbox_#{student_skill.skill_id}",
              class: "w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary cursor-pointer"
            } %>
      </div>
      <div class="flex-1">
        <%= label_tag "skill_checkbox_#{student_skill.skill_id}", student_skill.skill.description, 
            class: "text-gray-900 font-medium cursor-pointer block" %>
        <% if student_skill.demonstrated && student_skill.demonstrated_at %>
          <p class="text-sm text-green-600 mt-1">
            âœ“ Demonstrated on <%= student_skill.demonstrated_at.strftime("%B %d, %Y") %>
          </p>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
